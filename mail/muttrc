# General information
set mbox_type=Maildir
set folder=$HOME/mail
set spoolfile=+"yorku/INBOX"
set mbox=+"yorku/INBOX"
set record="$HOME/mail/Sent\ Items"
# set sendmail="/usr/bin/msmtp"
set sendmail="$HOME/bin/xcheck_email_for_attachment.sh"
set mailcap_path="~/.mailcap"
set display_filter="$HOME/bin/mutt_display_filter.py"

my_hdr Bcc: ifruend@yorku.ca

set header_cache=$HOME/mail/hcache
set index_format="%4C %Z %{%y %b %d} %-15.15L (%4l) %s"

source .mutt_colors_zenburn

# Account settings
set realname="Ingo Fruend"
set from=ifruend@yorku.ca
set envelope_from=yes
set use_from=yes

# Some convenience
set move=no
set beep=no
set print_command="muttprint "
# set print_command="muttprint - HP-Color-LaserJet-MFP-M477fnw"
set edit_headers=yes

# Editing
set editor="vim +/^$"
set send_charset="iso-8859-1:utf-8"
set askcc=yes

# Viewing
set sort=threads
set sort_aux=reverse-last-date-received
set pager_index_lines=6

# Headers
ignore *
unignore date from to cc subject resent-from reply-to x-mailer x-spam-status x-date
hdr_order Date: From: To: Cc: Subject: X-Spam-Status:

# Setting up mailboxes
mailboxes \
    =yorku/INBOX \
    =archive/2017 \
    =archive/2018 \
    =archive/2019


# Identities
folder-hook "yorku/*" set from=ifruend@yorku.ca
folder-hook "ingofruend/*" set from=mail@ingofruend.net


# Shortcuts
macro generic,index,pager M '<shell-escape>mbsync -a<return><tag-prefix-cond><tag-message><end-cond><tag-pattern>~f ifruend@yorku.ca<enter><tag-prefix-cond><clear-flag>N<tag-prefix-cond><tag-message>' "sync mailboxes and mark messages from myself as read"
bind pager i exit
# bind index <return> display-message

set sidebar_width=25
set sidebar_visible=no
bind index,pager <F5> sidebar-prev
bind index,pager <F6> sidebar-next
bind index,pager \co sidebar-open

macro index \cv '<enter-command>toggle sidebar_visible<enter><refresh>'
macro pager \cv '<enter-command>toggle sidebar_visible<enter><redraw-screen>'

set signature="~/.signature.txt"
send-hook "~f ifruend@yorku.ca" set signature="~/.signature.txt"
send-hook "~f mail@ingofruend.net" set signature=""

save-hook "~t ifruend@yorku.ca" +yorku/INBOX/
save-hook "~C ifruend@yorku.ca" +yorku/INBOX/
save-hook "~f .*@yorku.ca" +yorku/INBOX/

# 'push "<tag-prefix-cond><tag-message><end-cond><tag-pattern>~f ifruend@yorku.ca<enter><tag-prefix-cond><clear-flag>N<tag-prefix-cond><tag-message>"'

# Addresses
set query_command="abook --mutt-query %s"
macro generic,index,pager \ca "<shell-escape>abook<return>" "launch abook"
macro index,pager A "<pipe-message>abook --add-email<return>" "add the sender address to abook"

macro index <f8> "T (~R ~d >2m|~U ~d >4m)^M;s=archive/2019" "Archive read mail older than 2month"

auto_view text/html
alternative_order text/plain text/enriched text/html

alias bbcs \
    allison@eecs.yorku.ca (Rob Allison), \
    cberge@yorku.ca       (Christopher Bergevin), \
    jdc@yorku.ca          (J. Douglas Crawford), \
    desouza@yorku.ca      (Joseph DeSouza), \
    jelder@yorku.ca       (James H Elder), \
    mfallah@yorku.ca      (Mazyar Fallah), \
    ifruend@yorku.ca      (Ingo Fruend), \
    efreud@yorku.ca       (Erez Freud), \
    harris@yorku.ca       (Laurence R Harris), \
    deniseh@yorku.ca      (Denise Y Henriques), \
    suzmac@yorku.ca       (Suzanne E MacDonald), \
    rfm@yorku.ca          (Richard F Murray), \
    smurta@yorku.ca       (Susan Murtha), \
    hono@yorku.ca         (Hiroshi Ono), \
    dregan@yorku.ca       (David M Regan), \
    jrivest@yorku.ca      (Jos√©e Rivest), \
    lsergio@yorku.ca      (Lauren Sergio), \
    steeves@yorku.ca      (Jennifer Steeves), \
    troje@yorku.ca        (Nikolaus Troje), \
    lwilcox@yorku.ca      (Laurie M Wilcox), \
    franw@yorku.ca        (Frances Wilkinson), \
    hrwilson@yorku.ca     (Hugh Wilson), \
    stevensd@yorku.ca     (W. Dale Stevens), \
    patcav1@yorku.ca      (Patrick Cavanagh), \
    tpathman@yorku.ca     (Jeni Pathman), \
    joelzy@yorku.ca       (Joel Zylberberg)

alias bbcs_students \
    arleen4@my.yorku.ca, \
    giftya@yorku.ca, \
    mayala@yorku.ca, \
    skrzypek@yorku.ca, \
    edenrose@yorku.ca, \
    ciantars@yorku.ca, \
    hollis@yorku.ca, \
    cutonem@yorku.ca, \
    saod16@yorku.ca, \
    lfraser4@yorku.ca, \
    gastrock@yorku.ca, \
    mylann@yorku.ca, \
    kareenag@my.yorku.ca, \
    brit1317@yorku.ca, \
    dhkehoe@yorku.ca, \
    j9holmes@yorku.ca, \
    naailk@yorku.ca, \
    johnk84@my.yorku.ca, \
    cpking@yorku.ca, \
    charlie9@yorku.ca, \
    mcmanus1@yorku.ca, \
    lmusa09@my.yorku.ca, \
    kmnewman@yorku.ca, \
    anick88@yorku.ca, \
    sritvo@yorku.ca, \
    jeruttle@yorku.ca, \
    lilysh@yorku.ca, \
    rspiegel@yorku.ca, \
    karlenes@yorku.ca, \
    gtomou@yorku.ca, \
    chadv@my.yorku.ca, \
    whiteman@yorku.ca, \
    sangahy@yorku.ca, \
    am1r@my.yorku.ca
